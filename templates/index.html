<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SRH Heidelberg Chatbot</title>
    <style>


        .message {
            margin-bottom: 10px;
            padding: 5px 10px;
            border-radius: 5px;
        }
        .user-message {
            background-color: #e0f2fe;
            text-align: left;
        }
        .chatbot-message {
            background-color: #f5f5f5;
            text-align: right;
        }
    </style>
</head>
<body>
    <h1 style="text-align:center">SRH Heidelberg Chatbot</h1>

<div style="margin:10px 50px;display:flex;justify-content:center;align-items:center;">
    <div id="conversation" style="flex;justify-content:center;align-items:center;">
        {% for index,message in enumerate(conversation) %}
            <div class="message {{ 'user-message' if index % 2 != 0 else 'chatbot-message' }}"  style="flex;justify-content:center;width:800px;">
                <p>
                {{ message['message'] }}

                </p>
            </div>
        {% endfor %}
    </div>

    </div>
  <form id="" action="/chatbot" method="POST" style="display:flex;justify-content:center;500px;">
    <label for="message">Message:</label>
    <input type="text" id="message" name="message" style="margin-left:20px;width:" required>

    <button type="submit"  style="margin-left:20px;display:block;">Send</button>

</form>
    <form id="clear_chat" action="/clear" method="POST" style="display:flex;justify-content:center;margin-top:10px; padding:8px;">
        <button type="submit" >Reset</button>

    </form>

<!--    <script>-->
<!--        // Function to send message to the chatbot-->
<!--        document.getElementById("chatForm").addEventListener("submit", function(event) {-->
<!--            event.preventDefault();-->
<!--            sendMessage();-->
<!--        });-->

<!--        function sendMessage() {-->
<!--            var message = document.getElementById("message").value;-->

<!--            fetch("/chatbot", {-->
<!--                method: "POST",-->
<!--                headers: {-->
<!--                    "Content-Type": "application/json",-->
<!--                },-->
<!--                body: JSON.stringify({ "message": message })-->
<!--            })-->
<!--            .then(response => response.json())-->
<!--            .then(data => {-->
<!--                displayMessage(message, "User");-->
<!--                displayMessage(data.response, "Chatbot");-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error('Error:', error);-->
<!--            });-->

<!--            // Clear the input field after sending the message-->
<!--            document.getElementById("message").value = "";-->
<!--        }-->

<!--        // Function to display chatbot's response-->
<!--        function displayMessage(message, sender) {-->
<!--            var conversationDiv = document.getElementById("conversation");-->
<!--            var className = sender === "User" ? "user-message" : "chatbot-message";-->
<!--            var messageElement = "<div class='message " + className + "'>" + message + "</div>";-->
<!--            conversationDiv.innerHTML += messageElement;-->
<!--        }-->

<!--        // Function to clear message input field-->
<!--        function clearMessage() {-->
<!--            document.getElementById("message").value = "";-->
<!--        }-->

<!--        // Function to clear entire conversation-->
<!--        function clearConversation() {-->
<!--            document.getElementById("conversation").innerHTML = "";-->
<!--        }-->
<!--    </script>-->

</body>
</html>
